<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="../theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="../theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="../theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Anthony Green">
  <meta name="description" content="Posts and writings by Anthony Green">

  <link href="http://moxielogic.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="The Moxie Blog Atom" />
  <link href="http://moxielogic.github.io/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="The Moxie Blog RSS" />


  <title>
    The Moxie Blog
&ndash; Posts by: green  </title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="..">
        <img src="http://moxielogic.github.io/images/ml.png" alt="logo">
      </a>
      <h2><a href="..">The Moxie Blog</a></h2>
      <p>A development blog for the <b>moxie processor</b>, an open source embedded soft-core processor.</p>
      <ul>
        <li><a href="../pages/about.html">About</a></li>
        <li><a href="../pages/author.html">Author</a></li>
        <li><a href="http://moxielogic.org/blog/pages/architecture.html" target="_blank">Architecture</a></li>
        <li><a href="http://moxielogic.org/blog/pages/toolchain.html" target="_blank">Toolchain</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="..">Index</a> &brvbar; <a href="../archives.html">Archives</a>
      &brvbar; <a href="http://moxielogic.github.io/blog/feeds/all.atom.xml">Atom</a>
      &brvbar; <a href="http://moxielogic.github.io/blog/feeds/all.rss.xml">RSS</a>
&gt; Author: green
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="../pipeline-hazards.html">Pipeline hazards</a></h1>
  </div>
  <div class="article_text">
    <p>I've coded up a first go at four pipeline stages so far: <a href="http://github.com/atgreen/moxiedev/blob/master/moxie/rtl/verilog/cpu_fetch.v">Fetch</a>,
<a href="http://github.com/atgreen/moxiedev/blob/master/moxie/rtl/verilog/cpu_decode.v">Decode</a>, <a href="http://github.com/atgreen/moxiedev/blob/master/moxie/rtl/verilog/cpu_execute.v">Execute</a>, and Write. After the relative complexity of the
<a href="http://moxielogic.org/blog/?p=444">Fetch implementation</a>, the rest has been pretty straight forward, and
I've started running the first bit of compiled code through the pipline.
Here's that start of our …</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../fetching-instructions.html">Fetching instructions</a></h1>
  </div>
  <div class="article_text">
    <p>Moxie requires some interesting instruction fetch logic.</p>
<p>For my initial implementation I'm assuming a 32-bit path to instruction
memory. But moxie has both 16- and 48-bit instructions, so it's not like
simple RISC cores that can feed the pipeline on every cycle. My solution
is to feed 32-bit instruction memory …</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../the-fpga-test-board.html">The FPGA test board</a></h1>
  </div>
  <div class="article_text">
    <p>I picked up a lightly used FPGA development board from craigslist today.
It's the <a href="http://www.altera.com/education/univ/materials/boards/unv-de2-board.html">Altera DE2</a> board with a Cyclone II FPGA.</p>
<p><center>
<img alt="&quot;The DE2\'s Cyclone II &quot;" src="http://moxielogic.org/blog/wp-content/uploads/2010/08/P1230549-300x225.jpg">
</center></p>
<p>There are a few nice things about this board...</p>
<ul>
<li>It's loaded with real and useful peripherals: 16x2 LCD Panel, VGA
    DAC, lots of LEDs, RS232, IrDA, PS/2 …</li></ul>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../still-hacking.html">Still hacking...</a></h1>
  </div>
  <div class="article_text">
    <p>...Just in case you were wondering!</p>
<p>But it's been slow going. The good news is that moxie is front and
centre for me again, so let's see what we can do over the next few
weeks. And over these next few weeks I'm promising myself not to touch a
C …</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../the-moxielyzer.html">The Moxielyzer</a></h1>
  </div>
  <div class="article_text">
    <p>I just committed a little binary analysis tool to <a href="http://moxielogic.org/wiki/index.php?title=MoxieDev">moxiedev</a>. You can
use it to perform simple static analysis on moxie binaries. The kinds of
things I'm looking for are compiler bugs (because I know there's still
one there that is triggered by -frerun-cse-after-loop), and instruction
statistics. For instance, which …</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../summer-is-over-so-put-away-the-white-pants-and-start-submitting-patches.html">Summer is over, so put away the white pants and start submitting patches!</a></h1>
  </div>
  <div class="article_text">
    <p>It's been a while since my last update. What can I say... summer was
nice.</p>
<p>But now, back to business! I've just committed some long overdue patches
to the upstream GNU tools:</p>
<ul>
<li><a href="http://sourceware.org/ml/gdb-patches/2009-09/msg00289.html">Add a device tree blob to the gdb simulator</a>. This lets us
    describe the gdb sim target to …</li></ul>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../more-hello-world-progress-with-uclibcuclinux-and-a-gdb-question.html">More hello world progress with uClibc/uClinux, and a GDB question.</a></h1>
  </div>
  <div class="article_text">
    <p>Tonight I got a hello world app to use uClibc's <code>puts()</code> routine! This
is a big deal because it's the first time I've had system calls coming
in from userland. I haven't checked the changes in yet, because they're
a mess, but here's a basic run-down of what I had …</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../first-moxie-linux-userland-app-runs.html">First moxie-linux userland app runs!</a></h1>
  </div>
  <div class="article_text">
    <p>I've been taking advantage of the nice summer weather recently, so it's
taken me a while to get around to this... but here's the first moxie
userland app!</p>
<div class="highlight"><pre><span></span>#<span class="k">include</span> <span class="o">&lt;</span><span class="nv">string</span>.<span class="nv">h</span><span class="o">&gt;</span>

#<span class="nv">define</span> <span class="nv">MSG</span> <span class="s2">&quot;</span><span class="s">Hello, World!</span><span class="se">\n</span><span class="s2">&quot;</span>

<span class="nv">void</span> <span class="nv">__attribute__</span><span class="ss">((</span><span class="nv">noinline</span><span class="ss">))</span> <span class="nv">gloss_write</span> <span class="ss">(</span><span class="nv">int</span> <span class="nv">fd</span>, <span class="nv">char</span> <span class="o">*</span><span class="nv">ptr</span>, <span class="nv">int</span> <span class="nv">len</span><span class="ss">)</span> 
{
  <span class="nv">asm</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">swi 5</span><span class="s2">&quot;</span><span class="ss">)</span><span class="c1">; // &quot;write …</span></pre></div>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../speed-bumps-on-the-road-to-moxie-userland.html">Speed bumps on the road to moxie userland</a></h1>
  </div>
  <div class="article_text">
    <p>Sooo..... it turns out there's lots to take care of before userland apps
like BusyBox can run.</p>
<ul>
<li><strong>The root filesystem</strong>. This one is easy. I just built a short
    Hello World application in C with moxie-uclinux-gcc. This produces
    an executable in <a href="http://www.beyondlogic.org/uClinux/bflt.htm">BFLT format</a> which I call 'init'. The kernel
    build …</li></ul>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="../the-start-of-a-uclinux-userland.html">The start of a uClinux userland</a></h1>
  </div>
  <div class="article_text">
    <p>Before we can start building <a href="http://www.busybox.net">BusyBox</a>, we need a few more bits of
technology...</p>
<ul>
<li><a href="http://www.uclibc.org">uClibc</a>: this is a popular embedded C library, like newlib, but
    used more often in Linux environments. I ported uClibc to the moxie
    core just like every other bit of software in this project: quickly!
    My …</li></ul>
  </div>
</article>

<footer>
<div id="paginator">
<a href="../author/green6.html" class="button_accent">&larr; Older Posts</a>

<a href="../author/green4.html" class="button_accent">Newer Posts &rarr;</a>
</div>
</footer>

    <div id="ending_message">
      <p>&copy; Anthony Green. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>