<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="./theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="./theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="./theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Anthony Green">
  <meta name="description" content="Posts and writings by Anthony Green">

  <link href="http://moxielogic.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="The Moxie Blog Atom" />
  <link href="http://moxielogic.github.io/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="The Moxie Blog RSS" />


  <title>
    The Moxie Blog
  </title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href=".">
        <img src="http://moxielogic.github.io/images/ml.png" alt="logo">
      </a>
      <h2><a href=".">The Moxie Blog</a></h2>
      <p>A development blog for the <b>moxie processor</b>, an open source embedded soft-core processor.</p>
      <ul>
        <li><a href="./pages/about.html">About</a></li>
        <li><a href="./pages/author.html">Author</a></li>
	<p>
	<p>
	<p>
	<p>
	<p>
	<p>
        <li><a href="http://moxielogic.org/blog/pages/architecture.html" target="_blank">Architecture</a></li>
        <li><a href="http://moxielogic.org/blog/pages/toolchain.html" target="_blank">Toolchain</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href=".">Index</a> &brvbar; <a href="./archives.html">Archives</a>
      &brvbar; <a href="http://moxielogic.github.io/blog/feeds/all.atom.xml">Atom</a>
      &brvbar; <a href="http://moxielogic.github.io/blog/feeds/all.rss.xml">RSS</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h3><a href="./pushing-bits-upstream.html">Pushing Bits Upstream</a></h3>
  </div>
  <div class="article_text">
    <p>If there's one thing I've learned about GNU tools development over the
years, it's that attempting to maintain a tools port outside of the
upstream tree is A Very Bad Idea! It's easy to let your private tree
fall out of sync from upstream. And the ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./a-verilogical-place-to-start.html">A Verilogical Place To Start *</a></h3>
  </div>
  <div class="article_text">
    <p>I've written my first bit of <a href="http://en.wikipedia.org/wiki/Verilog">verilog</a> tonight. It's not much, really,
but it's a start. I'm using <a href="http://www.icarus.com/eda/verilog/">Icarus Verilog</a> (iverlog) to compile and
simulate the code. I also plan on using <a href="http://www.gpleda.org/tools/gtkwave/index.html">GTKWave</a> to examine timing
dumps from the iverilog simulator. Both of these tools are ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./das-u-boot-on-moxie.html">Das U-Boot on moxie!</a></h3>
  </div>
  <div class="article_text">
    <p>My moxie port of <a href="http://www.denx.de/wiki/U-Boot">U-Boot</a>, the Universal Boot Loader, has started
working!</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">qemu</span><span class="o">-</span><span class="n">system</span><span class="o">-</span><span class="n">moxie</span> <span class="o">-</span><span class="n">nographic</span> <span class="o">-</span><span class="n">kernel</span> <span class="n">u</span><span class="o">-</span><span class="n">boot</span>
<span class="n">SDRAM</span> <span class="o">:</span>
        <span class="n">U</span><span class="o">-</span><span class="n">Boot</span> <span class="n">Start</span><span class="o">:</span><span class="mh">0x00001000</span>
<span class="n">Using</span> <span class="k">default</span> <span class="n">environment</span>

<span class="n">U</span><span class="o">-</span><span class="n">BOOT</span> <span class="k">for</span> <span class="s">&quot;moxiesim&quot;</span>

<span class="o">=&gt;</span> <span class="n">version</span>

<span class="n">U</span><span class="o">-</span><span class="n">Boot</span> <span class="mf">2009.03</span><span class="o">-</span><span class="n">rc2</span><span class="o">-</span><span class="mo">00013</span><span class="o">-</span><span class="n">gefb4734</span><span class="o">-</span><span class="n">dirty</span> <span class="p">(</span><span class="n">Apr</span> <span class="mo">02</span> <span class="mi">2009</span> <span class="o">-</span> <span class="mi">20</span><span class="o">:</span><span class="mo">07</span><span class="o">:</span><span class="mi">32</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="n">printenv</span>
<span class="n">bootargs</span><span class="o">=</span><span class="n">root</span><span class="o">=</span><span class="n">romfs ...</span></pre></div>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./processor-exceptions.html">Processor Exceptions</a></h3>
  </div>
  <div class="article_text">
    <p>My first go at exceptions is working well. The basic idea is that moxie
will have a single exception handling routine whose address lives in
special register 1. You set the exception handler like so:</p>
<div class="highlight"><pre><span class="kt">void</span> <span class="nf">install_handler</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">handler</span><span class="p">)(</span><span class="kt">void</span><span class="p">))</span>
<span class="p">{</span>
  <span class="n">printf</span> <span class="p">(</span><span class="s">&quot;Installing handler 0x%x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span><span class="p">)</span> <span class="n">handler</span><span class="p">);</span>
  <span class="n">asm</span><span class="p">(</span><span class="s">&quot;ssr ...</span></pre></div>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./thinking-about-exceptions.html">Thinking about exceptions....</a></h3>
  </div>
  <div class="article_text">
    <p>In reading about how other processors handle exceptions, they seem to be
of two sorts. Some (most?) processors look into a vector of exception
handlers based on the exception type (Divide by Zero, Software
Interrupt, IRQ, etc), and the other sort jumps to a single exception
address and lets the ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./adding-a-real-time-clock.html">Adding a Real Time Clock</a></h3>
  </div>
  <div class="article_text">
    <p>After a UART, one of the most useful and interesting peripherals you can
add to a board is a Real Time Clock (RTC). Qemu comes with a simulation
of Freescale's <a href="http://www.freescale.com/files/microcontrollers/doc/data_sheet/MC146818.pdf">MC146818</a> RTC chip. Adding it to our qemu-defined
board was as simple as....</p>
<div class="highlight"><pre>   <span class="n">rtc_mm_init</span><span class="p">(</span><span class="mh">0x400</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>


<p>This ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./board-support-packages.html">Board Support Packages</a></h3>
  </div>
  <div class="article_text">
    <p>Today we're introducing the notion of Board Support Packages (BSPs) to
the <a href="http://moxielogic.org/wiki/index.php?title=Toolchain">moxie toolchain</a>.</p>
<p>A BSP provides all of the configuration data and code requires to target
a specific hardware platform. This mostly involves linker scripts,
platform initialization code, and hardware abstraction support
libraries.</p>
<p>Until recently the gdb sim ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./debugging-with-the-moxie-qemu-simulator.html">Debugging with the moxie qemu simulator</a></h3>
  </div>
  <div class="article_text">
    <p>I've finally cracked the gdb+qemu puzzle, so now we can debug code
running on the qemu moxie simulator!</p>
<p>The last little gotcha was that the simulated $pc wasn't being updated
after single-stepping. This will get you nowhere fast! But it's all
fixed now, and here's ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./a-tiny-computer.html">A Tiny Computer</a></h3>
  </div>
  <div class="article_text">
    <p><a href="http://lambda-the-ultimate.org/">Lambda the Ultimate</a> today posted a interesting blog entry on <a href="http://lambda-the-ultimate.org/node/3232">A Tiny
Computer</a>. It refers to 2007 paper by Chuck Thacker at Microsoft
Research describing a tiny 32-bit processor. Appendix A of the paper
includes the entire synthesizeable verilog implementation in just a page
and a half of code! Here ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="./progress.html">Progress...</a></h3>
  </div>
  <div class="article_text">
    <p>I made some progress on using moxie-elf-gdb with qemu the other day.
Qemu has an integrated gdb stub, so GDB speaks to it via the remote
protocol. It's still not quite there, but getting close. I'm anxious to
get it working, as it's the last step before ...</p>
  </div>
</article>

<footer>
<div id="paginator">
<a href="./index8.html" class="button_accent">&larr; Older Posts</a>

<a href="./index6.html" class="button_accent">Newer Posts &rarr;</a>
</div>
</footer>

    <div id="ending_message">
      <p>&copy; Anthony Green. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. .</p>
    </div>
  </main>
  <script type='text/javascript'>
    function clicky_gc(name) {
    var ca = document.cookie.split(';');
    for (var i in ca) {
    if (ca[i].indexOf(name + '=') != -1)
    return decodeURIComponent(ca[i].split('=')[1]);
    }
    return '';
    }
    var username_check = clicky_gc('comment_author_3a89f35dcf6e8725c9f228f27c057e70');
    if( username_check ) var clicky_custom_session = { username: username_check };
    </script>
  <script type="text/javascript">
    var clicky = { log:function () {
    return;
    }, goal:function () {
    return;
    }};
    var clicky_site_id = 78673;
    (function () {
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = '//static.getclicky.com/js';
    ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild(s);
    })();
</script>
<noscript><p><img alt="Clicky" width="1" height="1"
		    src="http://in.getclicky.com/78673ns.gif"/></p></noscript>
</body>
</html>