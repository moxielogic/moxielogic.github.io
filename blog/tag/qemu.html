<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="http://moxielogic.github.io/blog/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="http://moxielogic.github.io/blog/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="http://moxielogic.github.io/blog/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Anthony Green">
  <meta name="description" content="Posts and writings by Anthony Green">



  <title>
    The Moxie Blog
&ndash; Tag: qemu  </title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="http://moxielogic.github.io/blog">
        <img src="http://moxielogic.github.io/images/ml.png" alt="logo">
      </a>
      <h2><a href="http://moxielogic.github.io/blog">The Moxie Blog</a></h2>
      <p>A development blog for the <b>moxie processor</b>, an open source embedded soft-core processor.</p>
      <ul>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="http://moxielogic.github.io/blog">Index</a> &brvbar; <a href="http://moxielogic.github.io/blog/archives.html">Archives</a>
&gt; Tag: qemu
      </p>
    </header>

<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/moxie-on-alteras-cyclone-ii-and-a-chance-encounter.html">Moxie on Altera's Cyclone II, and a Chance Encounter</a></h3>
  </div>
  <div class="article_text">
    <p>I recently fired up the Altera software, Quartus II, and spent a little
time porting the Marin SoC to the popular Cyclone II based DE2 board.
There's no external memory support yet, but on-chip memory is working,
and it looks like the on-chip bootloader is coming up properly. As ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/qemu-1-5-includes-moxie-support.html">QEMU 1.5 includes Moxie support</a></h3>
  </div>
  <div class="article_text">
    <p>QEMU 1.5 was just released the other day, and in the <a href="http://lists.nongnu.org/archive/html/qemu-devel/2013-05/msg02557.html">"And much
more..."</a> category I'm happy to say that it includes Moxie support!</p>
<p>This release contains basic Moxie core support, with the imaginary
"moxiesim" board support. I have some local changes that provide Marin
SoC emulation, and ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/and-time-ticks-on.html">And time ticks on...</a></h3>
  </div>
  <div class="article_text">
    <p>The interrupt controller <a href="https://github.com/atgreen/moxie-cores/commit/0e44d0f29a2f05ef7f99fb1fc5d670d7f99d7c0b">is working now</a>, as is the timer and my
exception handling firmware. So now I'm able to write a basic stop-watch
application, where the 7-segment display simply increments the count
every second. Yes, this sounds basic, but there's a lot of complexity
under the hood ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/summer-is-over-so-put-away-the-white-pants-and-start-submitting-patches.html">Summer is over, so put away the white pants and start submitting patches!</a></h3>
  </div>
  <div class="article_text">
    <p>It's been a while since my last update. What can I say... summer was
nice.</p>
<p>But now, back to business! I've just committed some long overdue patches
to the upstream GNU tools:</p>
<ul>
<li><a href="http://sourceware.org/ml/gdb-patches/2009-09/msg00289.html">Add a device tree blob to the gdb simulator</a>. This lets us
    describe the gdb sim ...</li></ul>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/kernel-update-device-trees-and-kernel-threads.html">Kernel update: device trees and kernel threads</a></h3>
  </div>
  <div class="article_text">
    <p>I've spent a lot of time in airports/planes/hotels recently, which is
good news for the moxie linux port. It runs about 6.5M instructions,
booting up to the point where a couple of kernel threads are created.
However, a few context switches later it all comes tumbling ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/quick-update.html">Quick update...</a></h3>
  </div>
  <div class="article_text">
    <p>A few quick <a href="http://moxielogic.org/wiki/index.php?title=MoxieDev">MoxieDev</a> updates...</p>
<ul>
<li>The verilog output patch is in binutils</li>
<li>The moxie ports for binutils, newlib, libgloss and gdb are all
    upstream. Waiting on sim and gcc reviews.</li>
<li>The upstream qemu team have switched to git, so I've rebased
    MoxieDev's qemu against this new repository.</li>
</ul>
<p>Also ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/blog/adding-a-real-time-clock.html">Adding a Real Time Clock</a></h3>
  </div>
  <div class="article_text">
    <p>After a UART, one of the most useful and interesting peripherals you can
add to a board is a Real Time Clock (RTC). Qemu comes with a simulation
of Freescale's <a href="http://www.freescale.com/files/microcontrollers/doc/data_sheet/MC146818.pdf">MC146818</a> RTC chip. Adding it to our qemu-defined
board was as simple as....</p>
<div class="highlight"><pre>   <span class="n">rtc_mm_init</span><span class="p">(</span><span class="mh">0x400</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>


<p>This ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/board-support-packages.html">Board Support Packages</a></h3>
  </div>
  <div class="article_text">
    <p>Today we're introducing the notion of Board Support Packages (BSPs) to
the <a href="http://moxielogic.org/wiki/index.php?title=Toolchain">moxie toolchain</a>.</p>
<p>A BSP provides all of the configuration data and code requires to target
a specific hardware platform. This mostly involves linker scripts,
platform initialization code, and hardware abstraction support
libraries.</p>
<p>Until recently the gdb sim ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/debugging-with-the-moxie-qemu-simulator.html">Debugging with the moxie qemu simulator</a></h3>
  </div>
  <div class="article_text">
    <p>I've finally cracked the gdb+qemu puzzle, so now we can debug code
running on the qemu moxie simulator!</p>
<p>The last little gotcha was that the simulated $pc wasn't being updated
after single-stepping. This will get you nowhere fast! But it's all
fixed now, and here's ...</p>
  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h3><a href="http://moxielogic.github.io/blog/progress.html">Progress...</a></h3>
  </div>
  <div class="article_text">
    <p>I made some progress on using moxie-elf-gdb with qemu the other day.
Qemu has an integrated gdb stub, so GDB speaks to it via the remote
protocol. It's still not quite there, but getting close. I'm anxious to
get it working, as it's the last step before ...</p>
  </div>
</article>

<footer>
<div id="paginator">
<a href="http://moxielogic.github.io/blog/tag/qemu2.html" class="button_accent">&larr; Older Posts</a>

</div>
</footer>

    <div id="ending_message">
      <p>&copy; Anthony Green. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. .</p>
    </div>
  </main>
</body>
</html>